# GraphQL

GraphQL 이란?

facebook이 2012년에 개발하여 2015년에 공개한 쿼리 언어로써 API를 만들 떄 사용할 수 있고, 그와 동시에 쿼리에 대한 데이터를 받을 수 있습니다.

- SQL: 데이터베이스에 저장된 데이터를 효율적으로 가져오는 것을 목적으로 합니다
- GraphQL: 웹 클라이언트가 데이터를 서버로부터 효율적으로 가져오는 것을 목적으로 합니다.

- 장점

  - 필요한 정보만 가져올 수 있습니다.
  - 하나의 엔드포인트가 존재합니다.
  - 여러번 네트워크를 호출할 필요 없이, 한번의 네트워크 호출로 처리가 가능합니다.

- 단점
  - 캐싱이 REST에 비해 복잡합니다.
  - 데이터 쿼리의 상당 작업을 서버측으로 옮겨, 서버 개발자 작업의 복잡성이 커집니다

# GraphQL 은 왜 탄생해야 했는가?

왜, REST 방법론이 있는데도 새로운 언어인 GraphQL이 탄생해야했던 배경이 무엇인가?

- RESTful API 로는 다양한 기종에서 필요한 정보들을 일일이 구현하는 것이 힘들었습니다.
- 그 예로, iOS 와 Android 에서 필요한 정보들이 조금씩 달랐고, 그 다른 부분마다 API 를 구현하는 것이 힘들었습니다.

이 떄문에 정보를 사용하는 축에서 원하는대로 정보를 가져올 수 있고, 보다 편하게 정보를 수정할 수 있도록 하는 표준화된 Query language 를 만들게 되었습니다.

# GraphQL 과 RESTful 의 차이점

1. GraphQL API 는 주로 하나의 end-point를 사용한다.
2. GraphQL API 는 요청할 떄 사용한 Query 문에 따라 응답의 구조다 달라진다.

# 장단점

## GraphQL 은 다음과 같은 장점을 가진다.

1. HTTP 요청의 횟수를 줄일 수 있다.

- RESTful은 각 Resource 종류 별로 요청을 해야하고, 따라서 요청 횟수가 필요한 Resource 의 종류에 비례한다.
  , 반면 GraphQL 은 원하는 정보를 하나의 Query 에 모두 담아 요청하는 것이 가능하다.

2. HTTP 응답의 size 를 줄일 수 있다.

- RESTful 은 응답의 형태가 정해져있고, 따라서 필요한 정보만 부분적으로 요청하는 것이 힘들다.
  반면, GraphQL 은 원하는 대로 정보를 요청하는 것이 가능하다.

## GraphQL 의 단점

1. File 전송 등 Text 만으로 하기 힘든 내용들을 처리하기 복잡하다.
2. 고정된 요청과 응답만 필요한 경우에는 Query 로 인해 d요청의 크기가 RESTful API 의 경우보다 더 커진다.
3. 재귀적인 Query 가 불가능하다. (결과에 따라 응답의 깊이가 얼마든지 깊어질 수 있는 API 를 만들 수 없다.)
