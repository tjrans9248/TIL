# HTTP 프로토콜이란?

Hypertext Transfer protocol 인터넷상에서 데이터를 주고 받기위한 서버/클라이언트 모델을 따르는 프로토콜로 클라이언트에서 요청을 보내면 서버는 응답한다. TCP/IP위에서 작동하고 기본포트는 80번이다. 어떤 종류의 데이터든지 전송할 수 있도록 설계돼 있다. 장점은 불특정 다수를 대상으로 하는 서비스에 적합한 거고 단점은 연결을 끊어버리기 때문에 클라이언트의 이전 상태를 알 수 없다. 1번요청 1번응답(one request one response), 무상태성(데이터를 저장하지 않는다)

# HTTP와 HTTPS의 차이

HTTP는 평문 데이터를 전송하는 포로토콜이기 떄문에, HTTP로 비밀번호나 주민번호 등을 주고 받으면 제3자에 의해 조회될 수 있습니다. 이러한 문제를 해결하기 위해 HTTP에 암호화가 추가된 프로토콜이 HTTPS입니다. HTTPS에는 대칭키 암호화와 비대칭키 암호화가 모두 사용됩니다. 비대칭키 암/복호화는 비용이 매우 크기 떄문에 서버와 클라이언트가 주고받는 모든 메세지를 비대칭키로 암호화하면 오버헤드가 발생할 수 있습니다. 그래서 서버와 클라리언트가 최초 1회로 서로 대칭키를 공유하기 위한 과정에서 비대칭키 암호화를 사용하고, 이후에 메세지를 주고 받을 때에는 대칭키 암호화를 사용합니다.

1. 클라이언트(브라우저)가 서버로 최초 연결 시도를 함
2. 서버는 공개키(엄밀히는 인증서)를 브라우저에게 넘겨줌
3. 브라우저는 인증서의 유효성을 검사하고 세션키를 발급함
4. 브라우저는 세션키를 보관하며 추가로 서버의 공개키로 세션키를 암호화하여 서버로 전송함
5. 클라이언트와 서버는 동일한 세션키를 공유하므로 데이터를 전달할 떄 세션키로 암호화/복호화를 진행함

# HTTPS가 동작하는 방식

HTTPS는 TCP윙에 SSL/TLS층을 추가하며 암호화, 인증 그리고 무결성 보장을 통해 더 안전하게 만들어주는 프로토콜이다. 암호화에 쓰이는 키와 복호화에 쓰이는 키다 동일한 기법인 대칭키와 공개키 방식을 전부 사용하는 하이브리드 방식을 사용한다. 데이터전송을 위해 대칭키 방식을 사용하며 대칭키를 안전하게 전달하기 위해 공개키 방식을 사용한다.
